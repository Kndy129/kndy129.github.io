<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Simulado de Cibersegurança - 80 Questões</title>
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <style>
    body {font-family: Arial, sans-serif; margin: 20px; background: #f5f7fa; color: #333;}
    h1, h2 {color: #004080;}
    .question {margin-bottom: 20px; padding: 15px; border: 1px solid #ccc; border-radius: 8px; background: #fff; position: relative;}
    .options label {display: block; margin: 5px 0;}
    .feedback {margin-top: 10px; font-weight: bold;}
    .correct {color: green;}
    .incorrect {color: red;}
    .comment {margin-top: 5px; padding: 10px; border-left: 4px solid #004080; background: #eef5ff; display: none; transition: all 0.3s ease-in-out; opacity: 0;}
    .comment.show {display: block; opacity: 1;}
    button {margin: 5px; padding: 10px 15px; border: none; border-radius: 6px; cursor: pointer;}
    button:hover {opacity: 0.9;}
    .btn-corrigir {background-color: #4CAF50; color: #fff;}
    .btn-gabarito {background-color: #2196F3; color: #fff;}
    .btn-limpar {background-color: #f44336; color: #fff;}
    .btn-nav {background-color: #555; color: #fff;}
    #result, #result2, #result3 {margin-top: 20px; font-size: 1.2em; font-weight: bold;}
    .controls {margin-bottom: 12px;}
    
    /* Estilos para a notificação +1 */
    .plusOne {
      position: absolute;
      right: 15px;
      top: 15px;
      color: green;
      font-weight: bold;
      font-size: 1.2em;
      opacity: 0;
      transition: all 0.5s ease-in-out;
      pointer-events: none;
      z-index: 10;
    }
    .plusOne.show {
      opacity: 1;
      animation: floatUp 1s ease-in-out forwards;
    }
    @keyframes floatUp {
      0% { transform: translateY(0); opacity: 1; }
      100% { transform: translateY(-30px); opacity: 0; }
    }
    
    .question-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }
    .question-text {
      flex: 1;
    }
    .question-actions {
      display: flex;
      align-items: center;
      gap: 10px;
    }
  </style>
</head>
<body>
  <h1>Simulado de Cibersegurança — 80 Questões</h1>
  <p>Responda as questões. Cada parte possui sua correção independente; as explicações aparecem apenas nas questões respondidas após clicar em Corrigir.</p>

  <!-- PÁGINA 1 -->
  <div id="page1">
    <h2>Parte 1 - Questões 1 a 30</h2>
    <div class="controls">
      <button class="btn-gabarito" onclick="showAnswers('quiz',questions)">Mostrar Gabarito</button>
      <button class="btn-limpar" onclick="resetQuiz('quiz','result')">Limpar Respostas</button>
    </div>
    <div id="quiz"></div>
    <div id="result"></div>
    <button class="btn-nav" onclick="showPage(2)">Próxima Página</button>
  </div>

  <!-- PÁGINA 2 -->
  <div id="page2" style="display:none;">
    <h2>Parte 2 - Questões 31 a 60</h2>
    <div class="controls">
      <button class="btn-gabarito" onclick="showAnswers('quiz2',questions2)">Mostrar Gabarito</button>
      <button class="btn-limpar" onclick="resetQuiz('quiz2','result2')">Limpar Respostas</button>
    </div>
    <div id="quiz2"></div>
    <div id="result2"></div>
    <button class="btn-nav" onclick="showPage(1)">Página Anterior</button>
    <button class="btn-nav" onclick="showPage(3)">Próxima Página</button>
  </div>

  <!-- PÁGINA 3 -->
  <div id="page3" style="display:none;">
    <h2>Parte 3 - Questões 61 a 80</h2>
    <div class="controls">
      <button class="btn-gabarito" onclick="showAnswers('quiz3',questions3)">Mostrar Gabarito</button>
      <button class="btn-limpar" onclick="resetQuiz('quiz3','result3')">Limpar Respostas</button>
    </div>
    <div id="quiz3"></div>
    <div id="result3"></div>
    <button class="btn-nav" onclick="showPage(2)">Página Anterior</button>
  </div>

  <script>
    // Variável global para controlar o placar
    let placarTotal = parseInt(localStorage.getItem("placarTotal")) || 0;

    // Renderização dinâmica + armazenamento local
    function renderQuiz(containerId, questions, storageKey, startNumber) {
      const quizContainer = document.getElementById(containerId);
      const saved = JSON.parse(localStorage.getItem(storageKey)) || {};
      const corrected = JSON.parse(localStorage.getItem(storageKey + '_corrected')) || {};
      quizContainer.innerHTML = "";

      questions.forEach((q, i) => {
        const div = document.createElement("div");
        div.className = "question";

        let html = `
          <div class="question-header">
            <div class="question-text">
              <p><strong>Questão ${startNumber + i}</strong> - ${q.q}</p>
            </div>
            <div class="question-actions">
              <button class="btn-corrigir" onclick="checkSingleAnswer('${containerId}', ${i}, ${storageKey === 'quiz' ? 'questions' : storageKey === 'quiz2' ? 'questions2' : 'questions3'})">Corrigir</button>
              <span id="${containerId}_plus${i}" class="plusOne">+1</span>
            </div>
          </div>
          <div class="options">`;

        q.options.forEach((opt, j) => {
          const checked = saved[i] == j ? "checked" : "";
          html += `
            <label>
              <input type="radio" name="${containerId}_q${i}" value="${j}" ${checked}
                onchange="saveAnswer('${storageKey}', ${i}, ${j})">
              ${opt}
            </label>`;
        });

        html += `</div>
                 <div id="${containerId}_feedback${i}" class="feedback"></div>
                 <div id="${containerId}_comment${i}" class="comment"></div>`;
        
        div.innerHTML = html;
        quizContainer.appendChild(div);

        // Mostrar feedback se já foi corrigido anteriormente
        if (corrected[i]) {
          const feedback = document.getElementById(`${containerId}_feedback${i}`);
          const comment = document.getElementById(`${containerId}_comment${i}`);
          if (saved[i] == q.answer) {
            feedback.innerHTML = "✔ Resposta correta!";
            feedback.className = "feedback correct";
          } else {
            feedback.innerHTML = "✘ Resposta incorreta!";
            feedback.className = "feedback incorrect";
          }
          comment.innerHTML = q.comment;
          comment.classList.add("show");
        }
      });

      updateResult(containerId, questions);
    }

    function saveAnswer(storageKey, qIndex, optionIndex) {
      let answers = JSON.parse(localStorage.getItem(storageKey)) || {};
      answers[qIndex] = optionIndex;
      localStorage.setItem(storageKey, JSON.stringify(answers));
    }

    function checkSingleAnswer(containerId, index, questionsArray) {
      const saved = JSON.parse(localStorage.getItem(containerId)) || {};
      const corrected = JSON.parse(localStorage.getItem(containerId + '_corrected')) || {};
      const q = questionsArray[index];
      const feedback = document.getElementById(`${containerId}_feedback${index}`);
      const comment = document.getElementById(`${containerId}_comment${index}`);
      const plusOne = document.getElementById(`${containerId}_plus${index}`);

      // Verificar se já foi respondida
      if (saved[index] === undefined) {
        feedback.innerHTML = "Por favor, selecione uma resposta antes de corrigir.";
        feedback.className = "feedback incorrect";
        comment.classList.remove("show");
        return;
      }

      // Verificar se já foi corrigida
      if (corrected[index]) {
        feedback.innerHTML = "Esta questão já foi corrigida anteriormente.";
        feedback.className = "feedback incorrect";
        return;
      }

      if (saved[index] == q.answer) {
        feedback.innerHTML = "✔ Resposta correta!";
        feedback.className = "feedback correct";
        
        // Mostrar notificação +1
        plusOne.classList.add("show");
        setTimeout(() => {
          plusOne.classList.remove("show");
        }, 1000);

        // Atualizar placar
        placarTotal++;
        localStorage.setItem("placarTotal", placarTotal);
      } else {
        feedback.innerHTML = "✘ Resposta incorreta!";
        feedback.className = "feedback incorrect";
      }

      // Marcar como corrigida
      corrected[index] = true;
      localStorage.setItem(containerId + '_corrected', JSON.stringify(corrected));

      comment.innerHTML = q.comment;
      comment.classList.add("show");

      updateResult(containerId, questionsArray);
    }

    function updateResult(containerId, questions) {
      const resultId = containerId === 'quiz' ? 'result' : containerId === 'quiz2' ? 'result2' : 'result3';
      const saved = JSON.parse(localStorage.getItem(containerId)) || {};
      const corrected = JSON.parse(localStorage.getItem(containerId + '_corrected')) || {};
      
      let correct = 0;
      let answered = 0;

      questions.forEach((q, i) => {
        if (corrected[i] && saved[i] == q.answer) {
          correct++;
        }
        if (saved[i] !== undefined) {
          answered++;
        }
      });

      document.getElementById(resultId).innerHTML = 
        `Progresso: ${answered}/${questions.length} questões respondidas | ` +
        `Acertos: ${correct}/${questions.length} | ` +
        `Placar Total: ${placarTotal}/80`;
    }

    function showAnswers(containerId, questions) {
      const corrected = JSON.parse(localStorage.getItem(containerId + '_corrected')) || {};
      
      questions.forEach((q, i) => {
        const feedback = document.getElementById(`${containerId}_feedback${i}`);
        const comment = document.getElementById(`${containerId}_comment${i}`);
        
        feedback.innerHTML = `✔ Resposta correta: ${q.options[q.answer]}`;
        feedback.className = "feedback correct";
        comment.innerHTML = q.comment;
        comment.classList.add("show");

        // Marcar como corrigida se não estava
        if (!corrected[i]) {
          corrected[i] = true;
        }
      });

      localStorage.setItem(containerId + '_corrected', JSON.stringify(corrected));
      updateResult(containerId, questions);
    }

    function resetQuiz(containerId, resultId) {
      localStorage.removeItem(containerId);
      localStorage.removeItem(containerId + '_corrected');
      
      // Recalcular placar total
      placarTotal = 0;
      ['quiz', 'quiz2', 'quiz3'].forEach(quizId => {
        if (quizId !== containerId) {
          const saved = JSON.parse(localStorage.getItem(quizId)) || {};
          const corrected = JSON.parse(localStorage.getItem(quizId + '_corrected')) || {};
          const questions = quizId === 'quiz' ? questions : quizId === 'quiz2' ? questions2 : questions3;
          
          questions.forEach((q, i) => {
            if (corrected[i] && saved[i] == q.answer) {
              placarTotal++;
            }
          });
        }
      });
      
      localStorage.setItem("placarTotal", placarTotal);
      
      // Recriar o quiz com os números corretos
      if (containerId === 'quiz') {
        renderQuiz('quiz', questions, 'quiz', 1);
      } else if (containerId === 'quiz2') {
        renderQuiz('quiz2', questions2, 'quiz2', 31);
      } else {
        renderQuiz('quiz3', questions3, 'quiz3', 61);
      }
      document.getElementById(resultId).innerText = "";
    }

    function showPage(pageNum) {
      document.querySelectorAll("div[id^='page']").forEach(div => div.style.display = "none");
      document.getElementById("page" + pageNum).style.display = "block";
    }

    // --- QUESTÕES CORRIGIDAS COM NUMERAÇÃO CORRETA ---
    const questions = [
      {q: "O que é um SIEM?", options: ["Sistema de Monitoramento de Energia", "Ferramenta de gestão de eventos e informações de segurança", "Firewall de próxima geração", "Sistema de gestão de identidades"], answer: 1, comment: "SIEM coleta, normaliza e correlaciona logs de múltiplas fontes para detectar incidentes e facilitar investigação."},
      {q: "Qual é o principal objetivo da ISO/IEC 27001?", options: ["Estabelecer políticas de backup", "Definir requisitos para um SGSI", "Criar firewalls", "Gerenciar vulnerabilidades de hardware"], answer: 1, comment: "A ISO/IEC 27001 especifica requisitos para implementar, manter e melhorar um Sistema de Gestão de Segurança da Informação (SGSI)."},
      {q: "Na ISO/IEC 27001, o que é o Anexo A?", options: ["Lista de requisitos legais", "Controle de versão do documento", "Lista de objetivos e controles de segurança da informação", "Guia de implementação do SIEM"], answer: 2, comment: "O Anexo A fornece uma lista de objetivos e controles de segurança (boas práticas) que podem ser adotados pela organização."},
      {q: "O que significa PDCA, método usado em ISO 27001?", options: ["Plan-Do-Check-Act", "Protect-Detect-Contain-Analyze", "Prepare-Deploy-Certify-Assess", "Plan-Design-Check-Agree"], answer: 0, comment: "PDCA é o ciclo de melhoria contínua (Planejar, Fazer, Verificar e Agir) usado para gerir e aprimorar o SGSI."},
      {q: "Qual é um uso típico de correlação em um SIEM?", options: ["Compilar logs de nossos usuários", "Relacionar eventos para identificar padrões de ataque", "Armazenar backups em nuvem", "Gerar certificados digitais"], answer: 1, comment: "Regras de correlação combinam múltiplos eventos (por exemplo, falhas de login seguidas de acesso bem-sucedido) para identificar ataques que isoladamente seriam silenciosos."},
      {q: "Qual métrica representa o tempo médio para remover uma ameaça detectada?", options: ["MTTI (Mean Time to Identify)", "MTTR (Mean Time to Respond/Recover)", "MTBF (Mean Time Between Failures)", "MTTA (Mean Time to Acknowledge)"], answer: 1, comment: "MTTR mede o tempo médio para responder/recuperar de um incidente; MTTD/M is similares para detecção/identificação."},
      {q: "Qual controle do Anexo A está relacionado ao gerenciamento de acesso?", options: ["A.9 — Controle de acesso", "A.5 — Política de segurança", "A.12 — Operações de segurança", "A.14 — Segurança no desenvolvimento"], answer: 0, comment: "A seção A.9 do Anexo A trata especificamente do controle de acesso, incluindo responsabilidades, gestão de privilégios e autenticação."},
      {q: "Qual é a finalidade principal de um runbook em um SOC?", options: ["Documentar procedimentos repetíveis para triagem e resposta a incidentes", "Mapa de rede", "Política de backup", "Manual do usuário do SIEM"], answer: 0, comment: "Runbooks padronizam procedimentos operacionais (triagem, escalonamento, contenção), reduzindo erros e acelerando resposta."},
      {q: "O que é normalização de logs em um SIEM?", options: ["Alterar o fuso horário de eventos", "Transformar diferentes formatos de log para um formato comum", "Remover logs antigos automaticamente", "Criptografar logs em trânsito"], answer: 1, comment: "Normalização transforma campos heterogêneos (ex.: timestamps, níveis) em uma estrutura comum para que regras e correlações funcionem corretamente."},
      {q: "Qual protocolo é frequentemente usado para envio de logs em tempo real?", options: ["SMTP", "Syslog", "FTP", "SNMPv1"], answer: 1, comment: "Syslog é o protocolo tradicional para envio de logs de dispositivos e servidores; variantes modernas incluem syslog-ng, rsyslog, e transporte via TLS."},
      {q: "Uma violação de confidencialidade envolve:", options: ["Acesso não autorizado a dados sensíveis", "Perda de disponibilidade de um serviço", "Destruição física de um servidor", "Atualização de software mal sucedida"], answer: 0, comment: "Confidencialidade refere-se a proteger dados contra acesso ou divulgação não autorizada."},
      {q: "Que documento é requisito central para a certificação ISO/IEC 27001?", options: ["Declaração de aplicabilidade (SoA)", "Relatório de pentest", "Plano de continuidade de negócios", "Contrato de terceirização"], answer: 0, comment: "A SOA (Statement of Applicability) descreve quais controles do Anexo A foram implementados, com justificativas para inclusões/exclusões."},
      {q: "O que é threat intelligence?", options: ["Ferramenta de backup", "Informação processada sobre ameaças que ajuda a antecipar ataques", "Tipo de firewall", "Protocolo de rede"], answer: 1, comment: "Threat intelligence organiza dados sobre atores, TTPs e indicadores para orientar deteção e mitigação."},
      {q: "Qual técnica ajuda a reduzir falsos positivos no SIEM?", options: ["Aumentar o volume de logs", "Ajustar e afinar regras de correlação e baseline", "Desligar alertas", "Duplicar regras"], answer: 1, comment: "Afinar regras, whitelists e thresholds, além de contextualização com inteligência de ameaças, reduz alertas incorretos."},
      {q: "Na gestão de riscos (ISO 27001), avaliação de risco combina:", options: ["Probabilidade e impacto", "Custo e tempo", "Número de usuários e tamanho do servidor", "Versão do sistema operacional e fabricante"], answer: 0, comment: "Avaliação de risco normalmente considera a probabilidade de um evento e o impacto associado para priorizar ações."},
      {q: "Qual atitude é parte da resposta a incidentes?", options: ["Ignorar até se repetir", "Conter, erradicar e recuperar", "Vender os ativos comprometidos", "Desativar todos os logs"], answer: 1, comment: "O workflow típico envolve identificação, contenção, erradicação, recuperação e lições aprendidas."},
      {q: "Qual é um exemplo de log fonte crítica para SIEM no ambiente Windows?", options: ["Event Logs de segurança (Security Event Log)", "Logs de GPS", "Relatórios de impressora", "Logs de armazenamento em fita"], answer: 0, comment: "Event Logs de Segurança contêm eventos de autenticação, autorização e atividades sensíveis essenciais para investigação."},
      {q: "O que é um playbook em segurança?", options: ["Coleção de scripts e passos práticos para tratar tipos específicos de incidentes", "Software antivírus", "Ferramenta de inventário", "Lista de senhas"], answer: 0, comment: "Playbooks são guias acionáveis (muitas vezes com scripts/automação) para tratar cenários específicos de incidentes."},
      {q: "Qual conceito descreve o princípio do menor privilégio?", options: ["Todo usuário deve ter acesso completo por padrão", "Usuários recebem apenas os acessos estritamente necessários", "Administradores compartilham contas para agilidade", "Acesso é concedido sem revisão"], answer: 1, comment: "Menor privilégio minimiza privilégios concedidos, reduzindo risco de abuso e propagação de incidentes."},
      {q: "O que é MITRE ATT&CK?", options: ["Um tipo de malware", "Uma base de conhecimento de táticas, técnicas e procedimentos (TTPs) de adversários", "Um padrão de certificação", "Um protocolo de rede"], answer: 1, comment: "MITRE ATT&CK é um framework amplamente usado para mapear comportamentos adversários e modelar detecções."},
      {q: "Qual técnica detecta anomalias baseadas em comportamento no SIEM?", options: ["Regras estáticas apenas", "Detecção baseada em perfis e machine learning", "Somente coleta de logs", "Backup em fita"], answer: 1, comment: "Modelos de baseline e ML ajudam a encontrar desvios de comportamento que regras fixas não capturam."},
      {q: "Na ISO 27001, 'escopo' refere-se a:", options: ["O tamanho do servidor", "O conjunto de ativos, localizações e processos cobertos pelo SGSI", "Modelo de risco financeiro", "Número de funcionários"], answer: 1, comment: "O escopo define as fronteiras do SGSI — quais ativos, sites e processos estão incluídos."},
      {q: "Qual é a diferença entre IDS e IPS?", options: ["IDS previne ataques; IPS apenas monitora", "IDS monitora e detecta; IPS tem capacidade de bloquear/mitigar tráfego em tempo real", "Não existe diferença", "IDS é hardware; IPS é software"], answer: 1, comment: "IDS detecta; IPS pode bloquear ativamente tráfego malicioso (detecção vs prevenção)."},
      {q: "O que é unificação (aggregation) em SIEM?", options: ["Somar métricas financeiras", "Concentrar e armazenar logs coletados de múltiplas fontes", "Eliminar logs redundantes sem armazenar", "Enviar alertas por e-mail"], answer: 1, comment: "Aggregation consolida eventos de pontos variados para análise e retenção centralizada."},
      {q: "Qual requisito legal de proteção de dados exige notificação de violação em âmbito europeu?", options: ["LGPD", "GDPR — notificação de violação em até 72 horas em muitos casos", "HIPAA", "PCI-DSS"], answer: 1, comment: "O GDPR introduziu regras rigorosas de notificação de violação de dados no espaço econômico europeu."},
      {q: "Qual prática é essencial para gestão de vulnerabilidades?", options: ["Ignorar resultados de scans", "Inventariar ativos, escanear, priorizar e remediar vulnerabilidades", "Atualizar apenas quando houver incidente", "Confiar apenas em varreduras pontuais"], answer: 1, comment: "Gestão eficaz exige inventário, varreduras regulares, priorização por risco e remediação contínua."},
      {q: "O que é um falso negativo no contexto de detecção?", options: ["Alerta que não representa um incidente", "Incidente detectado corretamente", "Uma ameaça que não é detectada pelo sistema", "Alerta duplicado"], answer: 2, comment: "Falso negativo é quando uma ameaça real não é detectada, representando risco crítico."},
      {q: "Qual é uma métrica operacional usual de SOC?", options: ["Número de cores da CPU", "MTTR, MTTD, número de incidentes tratados por período", "Versão do SO", "Velocidade de link de internet"], answer: 1, comment: "KPIs como MTTD (Mean Time to Detect) e MTTR são usados para medir desempenho do SOC."},
      {q: "O que significa 'SoA' na ISO/IEC 27001?", options: ["Statement of Applicability — declaração dos controles aplicáveis e justificativas", "Security of Assets", "Standard of Accreditation", "Sumário das Obrigações Administrativas"], answer: 0, comment: "A SoA documenta quais controles do Anexo A foram implementados e por quê."},
      {q: "Qual tarefa é típica de um analista Tier 1 em SOC?", options: ["Desenvolver novas regras de correlação avançadas", "Triagem inicial de alertas e escalonamento segundo runbooks", "Redigir a política de segurança da empresa", "Realizar pentests complexos"], answer: 1, comment: "Analistas Tier 1 fazem a triagem inicial e seguem runbooks para decidir escalonamento."}
    ];

    const questions2 = [
      {q: "O que significa SOC em cibersegurança?", options: ["Security Operations Center", "System Optimization Core", "Secure Open Cloud", "Service Oriented Computing"], answer: 0, comment: "SOC é o centro operacional responsável por monitorar e responder a incidentes de segurança."},
      {q: "Qual destes é um objetivo do NIST Cybersecurity Framework?", options: ["Reduzir custos de TI", "Promover resiliência cibernética", "Aumentar o desempenho de rede", "Substituir normas ISO"], answer: 1, comment: "O NIST CSF visa aumentar a resiliência cibernética das organizações."},
      {q: "Qual é a função principal de um honeypot?", options: ["Acelerar a rede", "Atrair atacantes para estudo", "Proteger senhas com criptografia", "Monitorar desempenho de CPU"], answer: 1, comment: "Honeypot é usado como armadilha para estudar comportamento de atacantes."},
      {q: "Em gestão de riscos, qual etapa vem primeiro?", options: ["Análise de impacto", "Identificação de ativos", "Tratamento de riscos", "Monitoramento"], answer: 1, comment: "Primeiro identificamos os ativos para depois avaliar riscos associados."},
      {q: "O que caracteriza um ataque DoS?", options: ["Roubo de credenciais", "Negação de serviço por sobrecarga", "Alteração de registros DNS", "Injeção de código malicioso"], answer: 1, comment: "Ataque DoS visa indisponibilizar um serviço sobrecarregando seus recursos."},
      {q: "O que é hardening em segurança da informação?", options: ["Aumento de desempenho de hardware", "Configuração segura de sistemas", "Compactação de dados", "Atualização de antivírus"], answer: 1, comment: "Hardening consiste em reduzir a superfície de ataque aplicando configurações seguras."},
      {q: "Qual é o papel de um playbook em um SOC?", options: ["Gerar relatórios financeiros", "Guiar resposta a incidentes", "Treinar novos colaboradores", "Substituir firewalls"], answer: 1, comment: "Playbooks descrevem passo a passo como responder a determinados incidentes."},
      {q: "O que significa IDS?", options: ["Intrusion Detection System", "Information Data Service", "Internet Domain Security", "Integrated Defense Suite"], answer: 0, comment: "IDS é um sistema de detecção de intrusão."},
      {q: "Qual padrão ISO foca na continuidade de negócios?", options: ["ISO 9001", "ISO 31000", "ISO 22301", "ISO/IEC 27002"], answer: 2, comment: "A ISO 22301 é voltada para gestão da continuidade de negócios."},
      {q: "O que é um falso positivo em segurança?", options: ["Falha real detectada", "Alerta de ameaça inexistente", "Vulnerabilidade confirmada", "Exploit conhecido"], answer: 1, comment: "Falso positivo ocorre quando o sistema alerta sem existir uma ameaça real."},
      {q: "Qual técnica garante integridade de dados?", options: ["Hashing", "Compressão", "Firewall", "VPN"], answer: 0, comment: "Hashing assegura que os dados não foram alterados, porque qualquer mudança altera o hash."},
      {q: "O que significa GDPR?", options: ["General Data Protection Regulation", "Global Digital Privacy Rule", "General Device Protection Requirement", "Government Data Protection Regulation"], answer: 0, comment: "GDPR é o regulamento europeu de proteção de dados pessoais."},
      {q: "Em resposta a incidentes, qual é a primeira fase?", options: ["Contenção", "Identificação", "Erradicação", "Recuperação"], answer: 1, comment: "Identificação (detectar e confirmar) é a fase inicial para entender o incidente."},
      {q: "O que caracteriza phishing?", options: ["Roubo físico de dados", "Enganar usuários para obter informações", "Ataque de força bruta", "DoS distribuído"], answer: 1, comment: "Phishing usa engenharia social para enganar usuários e coletar credenciais ou dados sensíveis."},
      {q: "Qual destes é exemplo de autenticação multifator?", options: ["Senha e token SMS", "Duas senhas", "Biometria e mesma senha", "Pergunta secreta"], answer: 0, comment: "MFA combina fatores diferentes: algo que você sabe (senha) e algo que você tem (token)."},
      {q: "O que é patch management?", options: ["Monitorar rede", "Aplicar atualizações de software", "Gerenciar usuários", "Controle de senhas"], answer: 1, comment: "Patch management corrige vulnerabilidades conhecidas aplicando atualizações e patches."},
      {q: "Qual protocolo é mais seguro para navegação web?", options: ["HTTP", "HTTPS", "FTP", "Telnet"], answer: 1, comment: "HTTPS protege comunicações web usando TLS, fornecendo confidencialidade e integridade."},
      {q: "O que é SIEM correlation rule?", options: ["Um log de firewall", "Uma regra que relaciona eventos", "Um backup de sistema", "Política de senha"], answer: 1, comment: "Regra de correlação define padrões que, quando encontrados, disparam alertas por comportamento suspeito."},
      {q: "Qual o objetivo de um pentest?", options: ["Validar segurança simulando ataques", "Substituir antivírus", "Gerenciar logs", "Criar firewalls"], answer: 0, comment: "Pentest simula ataques controlados para identificar e priorizar falhas exploráveis."},
      {q: "Qual técnica é usada para proteger senhas em banco de dados?", options: ["Criptografia ou hashing", "Backup diário", "Compressão", "Antivírus"], answer: 0, comment: "Senhas devem ser armazenadas com hashing seguro (bcrypt, Argon2) e salting, não em texto claro."},
      {q: "O que significa VPN?", options: ["Virtual Private Network", "Verified Protection Node", "Virtual Public Net", "Variable Protocol Network"], answer: 0, comment: "VPN cria um túnel criptografado entre cliente e servidor, protegendo tráfego em redes inseguras."},
      {q: "Qual é o objetivo da ISO/IEC 27002?", options: ["Controles de segurança da informação", "Gestão de qualidade", "Gestão de continuidade de negócios", "Proteção de dados pessoais"], answer: 0, comment: "ISO/IEC 27002 fornece um conjunto de boas práticas e orientações para implementar controles de segurança."},
      {q: "Qual ataque explora injeção em consultas SQL?", options: ["Cross-Site Scripting", "SQL Injection", "Man-in-the-Middle", "Phishing"], answer: 1, comment: "SQL Injection manipula entradas para alterar consultas ao banco e acessar dados indevidos."},
      {q: "Qual é a função de um firewall?", options: ["Bloquear spam", "Filtrar tráfego de rede", "Proteger contra vírus", "Monitorar desempenho"], answer: 1, comment: "Firewalls controlam o tráfego entre redes com base em regras de segurança."},
      {q: "O que caracteriza ransomware?", options: ["Espionagem de e-mails", "Sequestro e criptografia de dados", "Roubo de hardware", "Exploração de CPU"], answer: 1, comment: "Ransomware criptografa dados e exige pagamento para liberar o acesso."},
      {q: "O que é zero-day?", options: ["Falha sem correção disponível", "Política de backup", "Senha temporária", "Ataque DDoS"], answer: 0, comment: "Zero-day é vulnerabilidade desconhecida pelo fornecedor; pode ser explorada antes de haver patch."},
      {q: "O que significa DLP?", options: ["Data Loss Prevention", "Database Log Protection", "Dynamic Link Protocol", "Digital Layer Protection"], answer: 0, comment: "DLP engloba ferramentas e políticas para prevenir vazamento ou exposição indevida de dados sensíveis."},
      {q: "O que é autenticação biométrica?", options: ["Verificação por algo que você é", "Uso de tokens", "Uso de senha", "Pergunta secreta"], answer: 0, comment: "Biometria usa características físicas/biológicas (impressão digital, face) para autenticar o usuário."},
      {q: "Qual é a principal função de logs de auditoria?", options: ["Controlar backups", "Registrar atividades para rastreabilidade", "Gerenciar licenças", "Monitorar hardware"], answer: 1, comment: "Logs de auditoria fornecem rastreabilidade de ações para investigações e conformidade."},
      {q: "Qual é o objetivo do princípio de menor privilégio?", options: ["Dar acesso ilimitado", "Restringir acessos ao mínimo necessário", "Evitar uso de criptografia", "Permitir múltiplas senhas"], answer: 1, comment: "O princípio limita acessos para reduzir riscos e impacto associado a contas comprometidas."}
    ];

    const questions3 = [
      {q: "Qual é a função principal de um SOAR?", options: ["Gerar relatórios financeiros", "Automatizar resposta a incidentes e orquestrar processos de segurança", "Monitorar temperatura do servidor", "Gerar backups automáticos"], answer: 1, comment: "SOAR integra alertas de segurança, automatiza tarefas e ajuda na resposta rápida a incidentes."},
      {q: "O que significa XDR?", options: ["Extended Detection and Response", "eXtended Data Repository", "Cross Domain Routing", "Extreme Data Recovery"], answer: 0, comment: "XDR correlaciona dados de múltiplas camadas (endpoints, rede, nuvem) para detecção avançada de ameaças."},
      {q: "Qual a principal diferença entre EDR e antivírus tradicional?", options: ["EDR não detecta malware", "EDR coleta e analisa eventos de endpoints em tempo real para respostas rápidas", "Antivírus não usa assinaturas", "Não há diferença"], answer: 1, comment: "EDR permite investigação e resposta a ameaças modernas, indo além da detecção por assinatura."},
      {q: "Qual é o papel de um honeynet?", options: ["Rede de honeypots interligados para estudar ataques", "Firewall avançado", "Monitoramento de tráfego interno apenas", "Servidor de backup remoto"], answer: 0, comment: "Honeynet permite análise detalhada de ataques através de múltiplos honeypots conectados."},
      {q: "O que diferencia IDS passivo de IPS ativo?", options: ["IDS bloqueia tráfego, IPS apenas alerta", "IDS apenas detecta e alerta, IPS pode bloquear tráfego malicioso", "Não há diferença", "IPS não monitora logs"], answer: 1, comment: "IDS alerta sobre eventos suspeitos; IPS pode interromper a comunicação maliciosa em tempo real."},
      {q: "Qual vantagem de correlacionar eventos de múltiplos sensores?", options: ["Aumenta a confusão", "Melhora a detecção de padrões complexos de ataque", "Reduz logs armazenados", "Acelera CPU"], answer: 1, comment: "A correlação permite identificar ataques que isoladamente seriam imperceptíveis."},
      {q: "Em SIEM, o que é enrichment?", options: ["Aumentar espaço em disco", "Adicionar contexto a eventos, como localização, usuário ou reputação IP", "Gerar relatórios financeiros", "Atualizar antivírus automaticamente"], answer: 1, comment: "Enrichment fornece contexto adicional para melhorar a análise e priorização de alertas."},
      {q: "O que caracteriza um ataque lateral em endpoints?", options: ["Infiltração apenas no firewall", "Movimento dentro da rede de um host comprometido para outros sistemas", "Roteamento errado", "Backups corrompidos"], answer: 1, comment: "Ataque lateral ocorre quando invasores se movem dentro da rede explorando hosts comprometidos."},
      {q: "Qual métrica XDR mede eficácia da resposta a ameaças?", options: ["MTTR (Mean Time to Respond)", "CPU Load", "Número de impressoras conectadas", "Velocidade de backup"], answer: 0, comment: "MTTR avalia quanto tempo leva para identificar e remediar ameaças detectadas."},
      {q: "Qual técnica de EDR detecta comportamentos suspeitos sem depender de assinaturas?", options: ["Assinatura de vírus", "Detecção baseada em comportamento/anomalia", "Backup de logs", "Filtro de firewall"], answer: 1, comment: "EDR moderno usa machine learning e heurísticas para detectar comportamentos suspeitos."},
      {q: "O que é threat hunting proativo?", options: ["Esperar alertas do SIEM", "Procurar sinais de ameaças ativamente antes que causem impacto", "Atualizar antivírus apenas", "Bloquear todo tráfego externo"], answer: 1, comment: "Threat hunting busca indicadores de comprometimento antes que incidentes se tornem críticos."},
      {q: "Qual é a função de um playbook SOAR?", options: ["Listar impressoras", "Automatizar sequência de ações em resposta a incidentes", "Gerar relatórios financeiros", "Monitorar temperatura do servidor"], answer: 1, comment: "Playbooks SOAR definem ações automáticas, como isolamento de host ou notificação de equipe, reduzindo tempo de resposta."},
      {q: "Em IPS, o que significa blocking mode?", options: ["Apenas logar eventos", "Bloquear ativamente pacotes ou conexões maliciosas", "Desativar firewall", "Ignorar tráfego externo"], answer: 1, comment: "Blocking mode permite prevenir que tráfego malicioso atinja sistemas críticos."},
      {q: "Qual é a principal função do MITRE ATT&CK em SOC?", options: ["Treinar equipe financeira", "Mapear TTPs adversários e orientar detecção e resposta", "Configurar firewall", "Gerar backups"], answer: 1, comment: "Framework MITRE ATT&CK guia análise de comportamento de atacantes e criação de alertas eficazes."},
      {q: "Qual benefício do XDR sobre soluções pontuais?", options: ["Mais consumo de memória", "Visão integrada de múltiplos domínios de segurança, facilitando detecção e resposta", "Substitui SOC", "Não gera alertas"], answer: 1, comment: "XDR centraliza visibilidade de endpoints, rede e nuvem para respostas coordenadas."},
      {q: "Qual é a diferença entre prevenção reativa e proativa em SOC?", options: ["Reativa reage a incidentes, proativa antecipa ameaças", "Não há diferença", "Reativa é mais rápida que proativa", "Proativa ignora logs"], answer: 0, comment: "Proativa envolve threat hunting, simulação e monitoramento contínuo, reativa aguarda incidentes."},
      {q: "O que significa false positive tuning em SIEM?", options: ["Aumentar número de alertas", "Ajustar regras para reduzir alertas incorretos", "Apagar logs antigos", "Configurar firewall"], answer: 1, comment: "Afinar regras de correlação e thresholds diminui falsos positivos e melhora eficiência operacional."},
      {q: "Qual abordagem EDR permite investigar ataques passados?", options: ["Log tradicional", "Recording / forensic analysis em endpoints", "VPN ativa", "Firewall stateful"], answer: 1, comment: "EDR mantém registros detalhados para análise forense e investigação retroativa de incidentes."},
      {q: "Qual é a vantagem de integrar SOAR com SIEM?", options: ["Reduz logs", "Automatiza resposta a alertas e correlaciona dados de múltiplas fontes", "Aumenta falso positivo", "Ignora ameaças"], answer: 1, comment: "Integração permite que alertas do SIEM acionem respostas automáticas, acelerando mitigação."},
      {q: "Em segurança de endpoints, o que significa containment?", options: ["Isolar sistema comprometido para evitar propagação", "Atualizar antivírus", "Executar backup completo", "Desligar toda a rede"], answer: 0, comment: "Containment evita que ameaças em um host se espalhem para outros sistemas ou redes."}
    ];

    // Inicializa os quizzes com numeração correta
    renderQuiz("quiz", questions, "quiz", 1);
    renderQuiz("quiz2", questions2, "quiz2", 31);
    renderQuiz("quiz3", questions3, "quiz3", 61);

    // Inicializar placar total
    document.addEventListener('DOMContentLoaded', function() {
      updateResult('quiz', questions);
      updateResult('quiz2', questions2);
      updateResult('quiz3', questions3);
    });
  </script>
</body>
</html>
